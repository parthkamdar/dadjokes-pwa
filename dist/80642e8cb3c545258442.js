(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{229:function(e,t,r){e.exports=r.p+"img/5177402.gif"},230:function(e,t,r){e.exports=r.p+"img/768b1e4.svg"},232:function(e,t,r){},233:function(e,t,r){},234:function(e,t,r){},235:function(e,t,r){e.exports=r.p+"img/49aa58f.svg"},237:function(e,t,r){"use strict";var n=r(232);r.n(n).a},238:function(e,t,r){"use strict";var n=r(233);r.n(n).a},239:function(e,t,r){"use strict";var n=r(234);r.n(n).a},240:function(e,t,r){"use strict";r.r(t);r(89),r(90),r(110),r(35);var n=r(12),o=r(41),c=r.n(o),l={name:"ErrorNotification",props:["errorMsg"],data:function(){return{}}},d=r(28),k=Object(d.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",{staticClass:"alert alert-danger shadow-lg"},[this._v(this._s(this.errorMsg))])])}),[],!1,null,null,null).exports,h={name:"AllJokesInner",components:{ErrorNotification:k},data:function(){return{jokes:[],page:1,disableNext:!1,disablePrev:!1,loading:!0,like:"Like",dislike:"Dislike",liked:[],error:"",errorDispatch:"",errorFlag:!1}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{Accept:"application/json"}},t.next=3,c.a.get("".concat(e.$store.state.url,"/getJokes?page=").concat(e.page),r);case 3:(n=t.sent).data.error?e.error=n.data.data:(e.jokes=n.data.data,e.loading=!1,e.disablePrev=!0),e.checkError();case 6:case"end":return t.stop()}}),t)})))()},methods:{nextPage:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,r={headers:{Accept:"application/json"}},t.next=4,c.a.get("https://icanhazdadjoke.com/search?page=".concat(e.page),r);case 4:n=t.sent,e.jokes=n.data.results,e.loading=!1,n.data.pageCount===e.page&&(e.disableNext=!0),e.disablePrev=!1,e.page+=1;case 10:case"end":return t.stop()}}),t)})))()},prevPage:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,!(e.page>0)){t.next=10;break}return e.page-=1,r={headers:{Accept:"application/json"}},t.next=6,c.a.get("https://icanhazdadjoke.com/search?page=".concat(e.page),r);case 6:n=t.sent,e.jokes=n.data.results,e.loading=!1,1===e.page&&(e.disablePrev=!0);case 10:case"end":return t.stop()}}),t)})))()},ifLiked:function(e){return!!this.$store.getters.getLoggedIn.flag&&!!this.$store.getters.getUser.liked.includes(e)},likeClicked:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.$store.getters.getLoggedIn.flag){r.next=17;break}return n={headers:{Accept:"application/json",username:t.$store.getters.getUser.username,password:t.$store.getters.getUser.password}},r.next=4,c.a.post("".concat(t.$store.state.url,"/auth/like"),{jokeId:e.id},n);case 4:if((o=r.sent).data.error){r.next=15;break}if(!o.data.data.success){r.next=13;break}return r.next=9,c.a.get("".concat(t.$store.state.url,"/auth/getLikes"),n);case 9:(l=r.sent).data.error||t.$store.commit("setLiked",l.data.data.liked.liked),r.next=13;break;case 13:r.next=15;break;case 15:r.next=18;break;case 17:t.showError("Please login/register to like jokes");case 18:case"end":return r.stop()}}),r)})))()},checkError:function(){this.$store.state.errorFlag&&this.showError(this.$store.state.error)},showError:function(e){var t=this;this.errorFlag=!0,this.errorDispatch=e,setTimeout((function(){t.errorFlag=!1,t.$store.commit("setErrorNull")}),3e3)}}},v=(r(237),{name:"AllJokes",components:{AllJokesInner:Object(d.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"floatingNotification"},[e.errorFlag?n("ErrorNotification",{attrs:{"error-msg":e.errorDispatch}}):e._e()],1),e._v(" "),e.loading?n("div",{staticClass:"row loading"},[n("img",{staticClass:"rounded mx-auto d-block",attrs:{src:r(229)}})]):e._e(),e._v(" "),e.loading?e._e():n("div",{staticClass:"cards-row row"},[n("p",[e._v(e._s(e.error))]),e._v(" "),e._l(e.jokes,(function(t){return n("div",{key:t.id,staticClass:"card"},[n("div",{staticClass:"card-body"},[n("p",[e._v(e._s(t.joke))]),e._v(" "),n("div",{staticClass:"like-options",on:{click:function(r){return e.likeClicked(t)}}},[n("hr"),e._v(" "),e.ifLiked(t.id)?e._e():n("span",{staticClass:"like"},[n("img",{attrs:{src:r(235)}}),e._v("\n            Like\n          ")]),e._v(" "),e.ifLiked(t.id)?n("span",{staticClass:"like"},[n("img",{attrs:{src:r(230)}}),e._v("\n            Liked\n          ")]):e._e()])])])}))],2),e._v(" "),n("div",{staticClass:"pagination"},[n("div",{staticClass:"row"},[n("button",{staticClass:"btn btn-primary prev-btn",attrs:{disabled:e.disablePrev},on:{click:e.prevPage}},[e._v("\n        Previous\n      ")]),e._v(" "),n("button",{staticClass:"btn btn-primary next-btn",attrs:{disabled:e.disableNext},on:{click:e.nextPage}},[e._v("\n        Next\n      ")])])])])}),[],!1,null,"2ed1eb66",null).exports,ErrorNotification:k},data:function(){return{search:"",searchJokes:!1,title:"All Jokes",jokes:[],page:1,showPagination:!1,disableNext:!1,disablePrev:!1,noData:"",loading:!0,errorDispatch:"",errorFlag:!1}},methods:{submitSearch:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.noData="",""===e.search){t.next=12;break}return e.title="Jokes for: ".concat(e.search),e.searchJokes=!0,e.$emit("search",e.search),r={headers:{Accept:"application/json"}},t.next=8,c.a.get("https://icanhazdadjoke.com/search?term=".concat(e.search),r);case 8:(n=t.sent).data.results.length>0?(e.jokes=n.data.results,e.loading=!1):(e.noData="No jokes found with these keywords, Try Again!",e.loading=!1),n.data.total_pages>1&&(e.showPagination=!0),e.disablePrev=!0;case 12:case"end":return t.stop()}}),t)})))()},nextPage:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,r={headers:{Accept:"application/json"}},t.next=4,c.a.get("https://icanhazdadjoke.com/search?term=".concat(e.search,"&page=").concat(e.page),r);case 4:n=t.sent,e.jokes=n.data.results,n.data.total_pages===e.page&&(e.disableNext=!0,e.loading=!1),e.disablePrev=!1,e.page+=1;case 9:case"end":return t.stop()}}),t)})))()},prevPage:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,!(e.page>0)){t.next=10;break}return e.page-=1,r={headers:{Accept:"application/json"}},t.next=6,c.a.get("https://icanhazdadjoke.com/search?term=".concat(e.search,"&page=").concat(e.page),r);case 6:n=t.sent,e.jokes=n.data.results,e.loading=!1,1===e.page&&(e.disablePrev=!0);case 10:case"end":return t.stop()}}),t)})))()},clearSearch:function(){this.title="All Jokes",this.search="",this.searchJokes=!1},ifLiked:function(e){return!!this.$store.getters.getLoggedIn.flag&&!!this.$store.getters.getUser.liked.includes(e)},likeClicked:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.$store.getters.getLoggedIn.flag){r.next=17;break}return n={headers:{Accept:"application/json",username:t.$store.getters.getUser.username,password:t.$store.getters.getUser.password}},r.next=4,c.a.post("".concat(t.$store.state.url,"/auth/like"),{jokeId:e.id},n);case 4:if((o=r.sent).data.error){r.next=15;break}if(!o.data.data.success){r.next=13;break}return r.next=9,c.a.get("".concat(t.$store.state.url,"/auth/getLikes"),n);case 9:(l=r.sent).data.error||t.$store.commit("setLiked",l.data.data.liked),r.next=13;break;case 13:r.next=15;break;case 15:r.next=18;break;case 17:t.showError("Please login/register to like jokes");case 18:case"end":return r.stop()}}),r)})))()},showError:function(e){var t=this;this.errorFlag=!0,this.errorDispatch=e,setTimeout((function(){t.errorFlag=!1}),3e3)}}}),f=(r(238),{components:{AllJokes:Object(d.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"floatingNotification"},[e.errorFlag?n("ErrorNotification",{attrs:{"error-msg":e.errorDispatch}}):e._e()],1),e._v(" "),n("div",{staticClass:"row header"},[n("h3",[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{id:"exampleInputEmail1",type:"text","aria-describedby":"emailHelp",placeholder:"Search..."},domProps:{value:e.search},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitSearch(t)},input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),e.searchJokes?n("small",{on:{click:e.clearSearch}},[e._v("Clear")]):e._e()])]),e._v(" "),e.searchJokes?e._e():n("AllJokesInner"),e._v(" "),e.searchJokes?n("div",{staticClass:"row jokes-row"},[e.loading?n("div",{staticClass:"row loading"},[n("img",{staticClass:"rounded mx-auto d-block",attrs:{src:r(229)}})]):e._e(),e._v(" "),n("p",{staticClass:"no-data"},[e._v(e._s(e.noData))]),e._v(" "),e.loading?e._e():n("div",{staticClass:"cards-row row"},e._l(e.jokes,(function(t){return n("div",{key:t.id,staticClass:"card"},[n("div",{staticClass:"card-body"},[n("p",[e._v(e._s(t.joke))]),e._v(" "),n("div",{staticClass:"like-options",on:{click:function(r){return e.likeClicked(t)}}},[n("hr"),e._v(" "),e.ifLiked(t.id)?e._e():n("span",{staticClass:"like"},[n("img",{attrs:{src:r(235)}}),e._v("\n              Like\n            ")]),e._v(" "),e.ifLiked(t.id)?n("span",{staticClass:"like"},[n("img",{attrs:{src:r(230)}}),e._v("\n              Liked\n            ")]):e._e()])])])})),0),e._v(" "),e.showPagination?n("div",{staticClass:"pagination"},[n("div",{staticClass:"row"},[n("button",{staticClass:"btn btn-primary prev-btn",attrs:{disabled:e.disablePrev},on:{click:e.prevPage}},[e._v("\n          Previous\n        ")]),e._v(" "),n("button",{staticClass:"btn btn-primary next-btn",attrs:{disabled:e.disableNext},on:{click:e.nextPage}},[e._v("\n          Next Page\n        ")])])]):e._e()]):e._e()],1)}),[],!1,null,"8a472594",null).exports}}),m=(r(239),Object(d.a)(f,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("AllJokes")],1)}),[],!1,null,null,null));t.default=m.exports}}]);