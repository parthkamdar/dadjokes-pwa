(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{229:function(e,t,r){e.exports=r.p+"img/5177402.gif"},230:function(e,t,r){e.exports=r.p+"img/768b1e4.svg"},231:function(e,t,r){},236:function(e,t,r){"use strict";var n=r(231);r.n(n).a},241:function(e,t,r){"use strict";r.r(t);var n=[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"like"},[t("img",{attrs:{src:r(230)}}),this._v("\n                Liked\n              ")])}],o=(r(35),r(12)),c=r(41),d=r.n(c),l={data:function(){return{noData:"",loading:!1,jokes:[],loggedin:this.$store.getters.getLoggedIn.flag}},created:function(){var e=this;this.loading=!0,setTimeout((function(){e.populateData()}),100)},methods:{populateData:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$store.getters.getLoggedIn.flag){t.next=8;break}return r={headers:{Accept:"application/json",username:e.$store.getters.getUser.username,password:e.$store.getters.getUser.password}},t.next=4,d.a.get("".concat(e.$store.state.url,"/auth/getLikedJokes"),r);case 4:(n=t.sent).data.error||(e.jokes=n.data.data.jokes,e.loading=!1),t.next=10;break;case 8:e.$store.commit("setError","You need to be logged in to view your liked jokes "),e.$router.push("/");case 10:case"end":return t.stop()}}),t)})))()},likeClicked:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.$store.getters.getLoggedIn.flag){r.next=17;break}return n={headers:{Accept:"application/json",username:t.$store.getters.getUser.username,password:t.$store.getters.getUser.password}},r.next=4,d.a.post("".concat(t.$store.state.url,"/auth/like"),{jokeId:e.id},n);case 4:if((o=r.sent).data.error){r.next=15;break}if(!o.data.data.success){r.next=13;break}return r.next=9,d.a.get("".concat(t.$store.state.url,"/auth/getLikes"),n);case 9:(c=r.sent).data.error||(t.$store.commit("setLiked",c.data.data.liked.liked),t.populateData()),r.next=13;break;case 13:r.next=15;break;case 15:r.next=18;break;case 17:t.showError("Please login/register to like jokes");case 18:case"end":return r.stop()}}),r)})))()},showError:function(e){var t=this;this.errorFlag=!0,this.errorDispatch=e,setTimeout((function(){t.errorFlag=!1}),3e3)}}},k=(r(236),r(28)),component=Object(k.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"row header"},[n("h3",[e._v("Liked Jokes")]),e._v(" "),n("div",{staticClass:"row jokes-row"},[e.loading?n("div",{staticClass:"row loading"},[n("img",{staticClass:"rounded mx-auto d-block",attrs:{src:r(229)}})]):e._e(),e._v(" "),n("p",{staticClass:"no-data"},[e._v(e._s(e.noData))]),e._v(" "),e.loading?e._e():n("div",{staticClass:"cards-row row"},e._l(e.jokes,(function(t){return n("div",{key:t.id,staticClass:"card"},[n("div",{staticClass:"card-body"},[n("p",[e._v(e._s(t.joke))]),e._v(" "),n("div",{staticClass:"like-options",on:{click:function(r){return e.likeClicked(t)}}},[n("hr"),e._v(" "),e._m(0,!0)])])])})),0)])])])}),n,!1,null,null,null);t.default=component.exports}}]);